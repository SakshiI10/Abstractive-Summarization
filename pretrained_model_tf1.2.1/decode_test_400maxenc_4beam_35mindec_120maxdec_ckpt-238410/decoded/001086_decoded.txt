the new law will take effect in six months .
the law is intended to end discrimination faced by common-law couples .
but marriage between people of the same sex is legal only in argentina , brazil and uruguay .